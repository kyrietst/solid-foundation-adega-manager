---
agent: adega-data-analyst
date: YYYY-MM-DD
priority: [critical|high|medium|low]
estimated_impact: "XX% improvement in [metric]"
claude_md_sections: ["Section 1", "Section 2"]
related_files: [file1.ts, file2.tsx]
---

# ðŸ“Š Performance Analysis - Adega Manager

## ðŸŽ¯ Executive Summary
Brief 2-3 line summary of key findings and impact.

## ðŸ”´ Critical Bottlenecks Identified

### 1. [Bottleneck Name] - Priority: Critical
**Location:** `src/path/to/file.ts:line-number`
**Impact:** X seconds delay, affects Y users
**Root Cause:** Detailed technical explanation
**Current Performance:** Baseline metrics
**Evidence:** Specific data/logs that support this finding

### 2. [Bottleneck Name] - Priority: High
[Same structure as above]

## ðŸ“ˆ Quantitative Data Analysis

### Database Performance
```
ðŸ“Š Volume Analysis:
â”œâ”€â”€ Table 1: XXX records (XX% growth)
â”œâ”€â”€ Table 2: XXX records (XX dead_tuples)
â””â”€â”€ Query Performance: XX ms average

ðŸ”¥ Fragmentation Issues:
â”œâ”€â”€ Table A: XX% fragmented
â””â”€â”€ Table B: XX dead_tuples vs XX live_tuples
```

### Application Metrics
- **Load Time:** Current vs Target
- **Query Count:** Per page load
- **Memory Usage:** Peak consumption
- **Cache Hit Rate:** Current percentage

## ðŸŽ¯ User Segmentation & Dashboard Requirements

### Dashboard: Business Owner (Executive)
**Target Load Time:** < 2 seconds
**Key Metrics:**
- [ ] Total Revenue (last 30 days)
- [ ] Sales Count
- [ ] Active Customers
- [ ] Critical Alerts

**Complexity:** Simple cards with visual indicators

### Dashboard: Marketing/Sales (Analytics)
**Target Load Time:** < 5 seconds  
**Key Metrics:**
- [ ] Customer Lifetime Value
- [ ] Acquisition Cost
- [ ] Cohort Analysis
- [ ] Performance by Category
- [ ] Churn Analysis

**Complexity:** Interactive charts with drill-down capabilities

## ðŸš€ Actionable Recommendations

### Immediate Actions (This Week)
1. **[Action 1]**
   - Implementation: Specific technical steps
   - Expected Impact: Quantified improvement
   - Risk Level: Low/Medium/High

2. **[Action 2]**
   [Same structure]

### Short-term Actions (Next 2 Weeks)
[Same structure as above]

### Long-term Actions (Next Month+)
[Same structure as above]

## ðŸ’¾ Cache Strategy Recommendations

### Layer 1: Browser Cache
- **Duration:** 1-5 minutes
- **Data Types:** Basic counters, user preferences
- **Implementation:** React Query staleTime

### Layer 2: Application Cache  
- **Duration:** 5-15 minutes
- **Data Types:** Calculated metrics, aggregated data
- **Implementation:** React Query + persistence

### Layer 3: Database Cache
- **Duration:** 15-60 minutes
- **Data Types:** Complex reports, historical data
- **Implementation:** Materialized views, stored procedures

## ðŸ”§ Database Optimizations

### Indexes to Create
```sql
-- Example index for performance improvement
CREATE INDEX idx_sales_completed_date ON sales(status, created_at) 
WHERE status = 'completed';
```

### Queries to Optimize
1. **COGS Calculation Query**
   - Current: XX ms
   - Optimized: Expected XX ms  
   - Method: [optimization technique]

### Stored Procedures Needed
- `get_dashboard_summary()` - Replaces X individual queries
- `calculate_customer_metrics()` - Pre-calculated analytics

## ðŸ“‹ Next Steps for Architect

### Implementation Priority Order
1. **Critical Path:** [Items that block other work]
2. **High Impact:** [Items with biggest performance gain]
3. **Low Risk:** [Items that are safe to implement]

### Specific Technical Requirements
- Remove fluid blob animations from: [specific components]
- Implement cache in: [specific hooks/components] 
- Create new dashboards: [specific requirements]
- Optimize queries in: [specific files]

## ðŸ”„ CLAUDE.md Updates Required

### Sections to Update
- **Performance Characteristics:** New baseline metrics
- **Database Current State:** Updated volume and fragmentation data
- **Common Workflows:** Documented bottlenecks and solutions
- **[Other sections as relevant]**

### Key Updates
- [ ] Current production metrics: XXX records, XX% performance improvement
- [ ] New architecture patterns: [what was implemented]
- [ ] Updated development guidelines: [new best practices]

## ðŸ“Š Success Metrics

### Before Optimization
- Dashboard Load Time: XX seconds
- Query Count: XX per page
- User Complaints: XX per week

### After Optimization (Target)
- Dashboard Load Time: XX seconds (XX% improvement)
- Query Count: XX per page (XX% reduction)
- User Satisfaction: XX% improvement

### Measurement Plan
- [ ] Performance monitoring setup
- [ ] User feedback collection  
- [ ] Automated testing for regression
- [ ] Regular performance reviews

---

**Generated by:** Adega Data Analyst Agent  
**Next Agent:** Adega Architect Agent  
**Review Status:** [ ] Pending Review [ ] Approved [ ] Implemented